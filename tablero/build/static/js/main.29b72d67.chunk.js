(this.webpackJsonptablero=this.webpackJsonptablero||[]).push([[0],{146:function(e,t,n){},147:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(32),a=n.n(r),s=n(17),o=n(172),l=n(162),j=n(159),d=n(160),b=n(112),u=n(173),h=n(68),g=n.p+"static/media/Tablero.6efcd9c3.mp4",p=n.p+"static/media/front-page-bg-2.aed51055.jpg",x=n.p+"static/media/front-page-img-1.59b79111.jpeg",O=(n(146),n(147),n(1));var f=function(){return Object(O.jsxs)(j.a,{fluid:!0,children:[Object(O.jsxs)("div",{className:"frontPage",style:{backgroundImage:"url(".concat(p,")")},children:[Object(O.jsx)("div",{className:"frontPageBgDarken"}),Object(O.jsxs)("h1",{className:"buzzwords",children:[Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(255, 66, 49)"},children:"Modern"}),Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(244, 196, 95)"},children:"Simple"}),Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(99, 202, 183)"},children:"Smart"})]})]}),Object(O.jsxs)("div",{className:"description",children:[Object(O.jsx)("h1",{style:{marginBottom:"20px"},children:"What is Tablero?"}),Object(O.jsx)("p",{children:"Tablero is a dashboard that compiles the information that is most important to you on a eink display. This display is high resolution and paper like, allowing it to integrate seemlessly into it's environment and be as undistracting as possible."})]}),Object(O.jsxs)(d.a,{style:{backgroundColor:"rgba(70, 70, 70, 0.1)"},children:[Object(O.jsx)(b.a,{sm:"12",lg:"6",style:{padding:"50px"},children:Object(O.jsx)("img",{src:x,style:{height:"400px",display:"block",margin:"0px auto"},alt:""})}),Object(O.jsx)(b.a,{sm:"12",lg:"6",style:{marginTop:"75px"},children:Object(O.jsx)(u.a,{style:{width:"400px"},children:Object(O.jsx)(u.a.Item,{children:Object(O.jsxs)(u.a,{variant:"flush",children:[Object(O.jsx)(u.a.Item,{children:Object(O.jsx)("b",{children:"Displays"})}),Object(O.jsx)(u.a.Item,{children:"Notes"}),Object(O.jsx)(u.a.Item,{children:"Todo lists"}),Object(O.jsx)(u.a.Item,{children:"Weahter"}),Object(O.jsx)(u.a.Item,{children:"Calendar"}),Object(O.jsx)(u.a.Item,{children:"Pictures"})]})})})})]}),Object(O.jsx)(d.a,{style:{padding:"50px 80px",marginTop:"40px"},children:Object(O.jsx)(b.a,{children:Object(O.jsxs)(h.Player,{src:g,preload:"auto",children:[Object(O.jsx)(h.BigPlayButton,{position:"center"}),Object(O.jsx)(h.ControlBar,{autoHide:!0,autoHideTime:500})]})})})]})},m=n(113),y=n(118),v=n(114),C=n(81),w=n(167),k=n(168),S=n(161),T=n(171),D=n(165),I=n(166),F=n(174),G=n(163),L=n(169),N=n(170),B=n(117),W=n(24),P="widget",R="https://europe-west2-la-hacks-308508.cloudfunctions.net";function z(e,t){var n=Object(W.cloneDeep)(e);return n.x=t[0],n.y=t[1],n}function E(e){for(var t=e.gridWidgets,n=e.changeGridWidgets,c=[],i=0;i<15;i++){var r=[i%3,Math.floor(i/3)];c.push(Object(O.jsx)(J,{position:r,changeGridWidgets:n},i))}var a=function(e){var c=t.filter((function(t,n){return n!=e}));n(c)},s=function(e,c){var i=Object(W.cloneDeep)(t[e]);i.config=c;var r=Object(W.cloneDeep)(t);r[e]=i,n(r)};return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},children:[c.map((function(e){return e})),t.map((function(e,t){return Object(O.jsx)(V,{index:t,widget:e,removeCallback:a,editCallback:s},t)}))]})}function J(e){var t=e.position,n=e.changeGridWidgets,c=Object(L.a)((function(){return{accept:P,drop:function(e){!function(e){n((function(n){return[].concat(Object(y.a)(n),[z(e,t)])}))}(e)}}})),i=Object(s.a)(c,2);Object(m.a)(i[0]);var r=i[1];return Object(O.jsx)("div",{style:{position:"absolute",top:100*t[1]/5+"%",left:100*t[0]/3+"%",height:"20%",width:100/3+"%",padding:"10px"},ref:r,children:Object(O.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.2)",height:"100%",width:"100%"}})})}function V(e){var t=e.widget,n=e.index,i=e.removeCallback,r=e.editCallback,a=t.size,o=Object(c.useState)(!1),j=Object(s.a)(o,2),d=j[0],b=j[1],u=Object(c.useState)(Object(W.cloneDeep)(t.config)),h=Object(s.a)(u,2),g=h[0],p=h[1],x=function(e,t){p((function(n){var c=Object(W.cloneDeep)(n);return c[e]=t,c}))};return Object(O.jsxs)("div",{style:{position:"absolute",width:100*a.width/3+"%",height:100*a.height/5+"%",left:100*t.x/3+"%",top:100*t.y/5+"%",padding:"10px"},children:[null!=t.config?Object(O.jsxs)(w.a,{show:d,children:[Object(O.jsx)(w.a.Header,{children:t.title}),Object(O.jsx)(w.a.Body,{children:Object(O.jsx)(k.a,{children:Object.entries(g).map((function(e){var t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)(H,{configKey:n,configValue:c,updateConfigValueCallback:x},n)}))})}),Object(O.jsxs)(w.a.Footer,{children:[Object(O.jsx)(l.a,{onClick:function(){r(n,g),b(!1)},children:"Confirm"}),Object(O.jsx)(l.a,{onClick:function(){b(!1)},children:"Cancel"})]})]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("div",{style:{backgroundColor:"rgba(30, 18, 26)",width:"100%",height:"100%",padding:"10px"},children:[Object(O.jsx)("p",{style:{color:"white",fontSize:"12px"},children:t.title}),Object(O.jsx)("a",{size:"sm",style:{position:"absolute",right:"20px",top:"20px",height:"25px",width:"25px",borderRadius:"5px",color:"white",border:"1px solid white",paddingTop:"0px",textAlign:"center",cursor:"pointer"},variant:"outline-light",onClick:function(){i(n)},children:"X"}),null!=t.config?Object(O.jsx)("div",{style:{position:"absolute",bottom:"10px",right:"10px",padding:"5px 10px",borderTop:"2px solid white",borderLeft:"2px solid white",borderTopLeftRadius:"5px",backgroundColor:"white",color:"black",zIndex:"10",fontWeight:"600",cursor:"pointer"},onClick:function(){return b(!0)},children:"Edit"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("img",{src:t.iconURL,style:{position:"absolute",maxWidth:"50%",maxHeight:"50%",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",filter:"brightness(0) invert(1)"}})]})]})}function H(e){var t=e.configKey,n=e.configValue,i=e.updateConfigValueCallback,r=Object(c.useState)(Object(W.cloneDeep)(n)),a=Object(s.a)(r,2),o=a[0],u=a[1],h=Object(c.useReducer)((function(e){return e+1}),0),g=Object(s.a)(h,2)[1],p=function(e,t){u(t),i(e,t),g()},x=function(e,n){var c=Object(W.cloneDeep)(o);e>=o.length?c.push(""):c[e]=n,p(t,c)};return Array.isArray(o)?Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:t}),Object(O.jsx)(j.a,{style:{margin:"0.5rem"},children:o.map((function(e,n){return Object(O.jsx)(d.a,{children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(d.a,{children:Object(O.jsx)(H,{configValue:e,configKey:n,updateConfigValueCallback:x},e)}),Object(O.jsx)(d.a,{children:Object(O.jsx)(l.a,{onClick:function(){!function(e){var n=Object(W.cloneDeep)(o).filter((function(t,n){return n!=e}));p(t,n)}(n)},children:"Remove"})})]})})}))}),Object(O.jsx)(l.a,{style:{marginLeft:"8px",marginTop:"30px"},onClick:function(){x(o.length,"")},children:"Add item"})]}):Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:t}),Object(O.jsx)(k.a.Control,{type:"text",value:o,onChange:function(e){return p(t,e.target.value)}})]})}function K(e){var t=e.widgets,n=e.config,c=e.triggerGetConfig;return Object(O.jsxs)(T.a,{children:[Object(O.jsx)(D.a,{title:"Widgets",eventKey:"widgets",children:Object(O.jsx)(A,{widgets:t})}),Object(O.jsx)(D.a,{title:"Config",eventKey:"config",children:Object(O.jsx)(q,{config:n,triggerGetConfig:c})})]})}function A(e){var t=e.widgets;return Object(O.jsx)(I.a,{style:{paddingTop:"1rem"},children:Object.values(t).map((function(e,t){return Object(O.jsx)(_,{widgetInfo:e},t)}))})}function _(e){var t=e.widgetInfo,n=Object(N.a)((function(){return{type:P,item:t}})),c=Object(s.a)(n,2),i=(c[0],c[1]);return Object(O.jsxs)(F.a,{ref:i,children:[Object(O.jsx)(F.a.Img,{variant:"top",src:t.iconURL,style:{pointerEvents:"none"}}),Object(O.jsxs)(F.a.Body,{children:[Object(O.jsx)(F.a.Title,{children:null===t||void 0===t?void 0:t.title}),null!=(null===t||void 0===t?void 0:t.description)?Object(O.jsx)(F.a.Text,{children:t.description}):Object(O.jsx)(O.Fragment,{})]})]})}function q(e){var t=e.config,n=e.triggerGetConfig,i=null!=t.bgColor?t.bgColor:"light",r=null!=t.refreshFrequency?t.refreshFrequency:20,a=Object(c.useState)(i),o=Object(s.a)(a,2),j=o[0],d=o[1],b=Object(c.useState)(r),u=Object(s.a)(b,2),h=u[0],g=u[1];return Object(O.jsxs)(k.a,{className:"mb-3",style:{paddingTop:"1rem"},onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:"Device theme:"}),Object(O.jsx)(l.a,{variant:"light"==j?"secondary":"outline-secondary",style:{margin:"0.5rem"},onClick:function(){return d("light")},children:"Light"}),Object(O.jsx)(l.a,{variant:"dark"==j?"secondary":"outline-secondary",style:{margin:"0.5rem"},onClick:function(){return d("dark")},children:"Dark"})]}),Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:"Screen refresh rate (in seconds):"}),Object(O.jsx)(k.a.Control,{type:"number",placeholder:r,value:h,onChange:function(e){return g(e.target.value)}})]}),i!=j||h!=r?Object(O.jsx)(l.a,{variant:"secondary",type:"submit",onClick:function(e){e.preventDefault(),fetch(R+"/set-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"test-new-data",secret:"password",config:{refreshFrequency:h,bgColor:j}})}).then((function(e){return e.json()})).then((function(e){!0!==e.success?(console.warn("Save did not succeed, there must be a problem somewhere"),console.log("you should look into this")):n((function(e){return!e}))})).catch((function(e){console.warn(e)}))},children:"Save changes"}):Object(O.jsx)(O.Fragment,{})]})}console.log("has loaded the api url");var M=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),a=Object(s.a)(r,2),o=a[0],u=a[1],h=Object(c.useState)({}),g=Object(s.a)(h,2),p=g[0],x=g[1],f=Object(c.useState)(!1),m=Object(s.a)(f,2),y=m[0],T=m[1],D=Object(c.useState)(!1),I=Object(s.a)(D,2),F=I[0],L=I[1],N=Object(c.useState)(!1),P=Object(s.a)(N,2),z=P[0],J=P[1],V=Object(c.useState)(!1),H=Object(s.a)(V,2),A=H[0],_=H[1],q=Object(c.useState)(""),M=Object(s.a)(q,2),X=M[0],U=M[1],Y=Object(c.useState)(""),Q=Object(s.a)(Y,2),Z=Q[0],$=Q[1];return Object(c.useEffect)((function(){z&&fetch(R+"/get-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:X,secret:Z})}).then((function(e){return e.json()})).then((function(e){null!=e.config&&x(e.config),null!=e.grid&&i(e.grid.map((function(e){var t=o.filter((function(t){return t.id==e.id}));return t.length>0?Object(C.a)(Object(C.a)({},Object(W.cloneDeep)(t[0])),e):null})).filter((function(e){return null!=e})))})).catch((function(e){console.warn(e)}))}),[o,y,z]),Object(c.useEffect)((function(){fetch(R+"/get-widgets").then((function(e){return e.json()})).then((function(e){null!=e.widgets&&function(){var t,n=[],c=Object(v.a)(e.widgets);try{var i=function(){var e=t.value;Object.keys(e).forEach((function(t){var c=[],i=Object(W.cloneDeep)(e[t]);i.id=t;for(var r=0,a=["sm","md","lg"];r<a.length;r++){var s=a[r];if(null!=i[s]){var o=Object(W.cloneDeep)(i);o.size=i[s],o.title=i.title+" - "+s,o.id=t+"-"+s,c.push(o)}}c.length>0?n.push.apply(n,c):n.push(i)}))};for(c.s();!(t=c.n()).done;)i()}catch(r){c.e(r)}finally{c.f()}u(n)}()})).catch((function(e){return console.warn(e)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[F?Object(O.jsx)("div",{className:"savingScreen",children:Object(O.jsx)("div",{className:"loadingBox"})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(w.a,{show:!z,backdrop:"static",centered:!0,keyboard:!1,children:[Object(O.jsx)(w.a.Header,{children:Object(O.jsx)(w.a.Title,{children:"Sign In"})}),Object(O.jsx)(w.a.Body,{children:Object(O.jsxs)(k.a,{onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:"Device name"}),Object(O.jsx)(k.a.Control,{type:"text",value:X,onChange:function(e){return U(e.target.value)}})]}),Object(O.jsxs)(k.a.Group,{children:[Object(O.jsx)(k.a.Label,{children:"Secret"}),Object(O.jsx)(k.a.Control,{type:"password",value:Z,onChange:function(e){return $(e.target.value)}})]})]})}),Object(O.jsxs)(w.a.Footer,{children:[A?Object(O.jsx)(S.a,{variant:"danger",children:"Login failed"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(l.a,{variant:"primary",size:"lg",onClick:function(){fetch(R+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:X,secret:Z})}).then((function(e){return e.json()})).then((function(e){!0===e.success?J(!0):(_(!0),U(""),$(""))})).catch((function(e){_(!0),console.warn(e)}))},children:"Sign in"})]})]}),Object(O.jsx)(G.a,{backend:B.a,children:Object(O.jsxs)(j.a,{style:{marginTop:"60px",maxWidth:"1250px"},children:[Object(O.jsxs)(d.a,{style:{backgroundColor:"rgba(100, 100, 100, 0.1)",padding:"40px 0px",marginBottom:"50px"},children:[Object(O.jsx)(b.a,{sm:"12",lg:"5",style:{height:"1000px",backgroundColor:"rgba(212, 204, 188)",marginLeft:100/24+"%",marginRight:100/12+"%"},children:Object(O.jsx)("div",{style:{position:"absolute",top:"15px",left:"15px",width:"calc(100% - 30px)",height:"calc(100% - 30px"},children:Object(O.jsx)(E,{gridWidgets:n,changeGridWidgets:i})})}),Object(O.jsx)(b.a,{sm:"12",lg:"5",children:Object(O.jsx)(K,{widgets:o,config:p,triggerGetConfig:T})})]}),Object(O.jsx)(d.a,{style:{marginBottom:"100px"},children:Object(O.jsx)(l.a,{onClick:function(){L(!0);var e={user_id:X,secret:Z,grid:n};fetch(R+"/set-grid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){L(!1),!0===e.success?T((function(e){return!e})):console.warn("Couldn't save config")})).catch((function(e){console.warn(e)}))},variant:"primary",style:{display:"block",margin:"0px auto",width:"250px"},children:"Save Grid"})})]})})]})},X=n.p+"static/media/logo.d09f2a62.svg";var U=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)(o.a,{className:"fadeIn",variant:"light",style:{position:"relative",backgroundColor:n?"transparent":"rgba(0, 0, 0, 0.1)",zIndex:2,padding:"30px",height:n?"140px":"80px",transition:"all 0.2s"},children:[Object(O.jsx)(o.a.Brand,{href:"#",children:Object(O.jsx)("img",{src:X,style:{height:n?"100px":"60px",transition:"all 0.2s"}})}),n?Object(O.jsx)(o.a.Collapse,{className:"justify-content-end",children:Object(O.jsx)(l.a,{style:{backgroundColor:"rgb(255, 66, 49)",border:"none"},className:"justify-content-end",onClick:function(){return i(!n)},variant:"secondary",children:"Go to dashboard"})}):Object(O.jsx)("h1",{class:"fadeIn",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",fontWeight:"600",color:"rgb(20, 20, 20)"},children:"Dashboard"})]}),n?Object(O.jsx)(f,{}):Object(O.jsx)(M,{})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};n(152);a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root")),Y()}},[[153,1,2]]]);
//# sourceMappingURL=main.29b72d67.chunk.js.map