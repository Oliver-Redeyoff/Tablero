(this.webpackJsonptablero=this.webpackJsonptablero||[]).push([[0],{146:function(e,t,n){},147:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(31),a=n.n(r),s=n(19),o=n(172),l=n(162),d=n(159),j=n(160),b=n(112),h=n(173),u=n(68),g=n.p+"static/media/Tablero.6efcd9c3.mp4",p=n.p+"static/media/front-page-bg-2.aed51055.jpg",x=n.p+"static/media/front-page-img-1.59b79111.jpeg",O=(n(146),n(147),n(1));var f=function(){return Object(O.jsxs)(d.a,{fluid:!0,children:[Object(O.jsxs)("div",{className:"frontPage",style:{backgroundImage:"url(".concat(p,")")},children:[Object(O.jsx)("div",{className:"frontPageBgDarken"}),Object(O.jsxs)("h1",{className:"buzzwords",children:[Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(255, 66, 49)"},children:"Modern"}),Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(244, 196, 95)"},children:"Simple"}),Object(O.jsx)("h1",{style:{borderRight:"10px solid rgb(99, 202, 183)"},children:"Smart"})]})]}),Object(O.jsxs)("div",{className:"description",children:[Object(O.jsx)("h1",{style:{marginBottom:"20px"},children:"What is Tablero?"}),Object(O.jsx)("p",{children:"Tablero is a dashboard that compiles the information that is most important to you on a eink display. This display is high resolution and paper like, allowing it to integrate seemlessly into it's environment and be as undistracting as possible."})]}),Object(O.jsxs)(j.a,{style:{backgroundColor:"rgba(70, 70, 70, 0.1)"},children:[Object(O.jsx)(b.a,{sm:"12",lg:"6",style:{padding:"50px"},children:Object(O.jsx)("img",{src:x,style:{height:"400px",display:"block",margin:"0px auto"},alt:""})}),Object(O.jsx)(b.a,{sm:"12",lg:"6",style:{marginTop:"75px"},children:Object(O.jsx)(h.a,{style:{width:"400px"},children:Object(O.jsx)(h.a.Item,{children:Object(O.jsxs)(h.a,{variant:"flush",children:[Object(O.jsx)(h.a.Item,{children:Object(O.jsx)("b",{children:"Displays"})}),Object(O.jsx)(h.a.Item,{children:"Notes"}),Object(O.jsx)(h.a.Item,{children:"Todo lists"}),Object(O.jsx)(h.a.Item,{children:"Weahter"}),Object(O.jsx)(h.a.Item,{children:"Calendar"}),Object(O.jsx)(h.a.Item,{children:"Pictures"})]})})})})]}),Object(O.jsx)(j.a,{style:{padding:"50px 80px",marginTop:"40px"},children:Object(O.jsx)(b.a,{children:Object(O.jsxs)(u.Player,{src:g,preload:"auto",children:[Object(O.jsx)(u.BigPlayButton,{position:"center"}),Object(O.jsx)(u.ControlBar,{autoHide:!0,autoHideTime:500})]})})})]})},m=n(113),y=n(118),v=n(114),w=n(81),C=n(167),S=n(168),k=n(161),T=n(171),I=n(165),N=n(166),D=n(174),G=n(163),B=n(169),F=n(170),W=n(117),L=n(47),P="widget",z="https://europe-west2-la-hacks-308508.cloudfunctions.net";function R(e,t){var n=Object(L.cloneDeep)(e);return n.x=t[0],n.y=t[1],n}function J(e){for(var t=e.gridWidgets,n=e.changeGridWidgets,i=[],c=0;c<15;c++){var r=[c%3,Math.floor(c/3)];i.push(Object(O.jsx)(E,{position:r,changeGridWidgets:n},c))}var a=function(e){var i=t.filter((function(t,n){return n!=e}));n(i)};return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},children:[i.map((function(e){return e})),t.map((function(e,t){return Object(O.jsx)(H,{index:t,widget:e,removeCallback:a},t)}))]})}function E(e){var t=e.position,n=e.changeGridWidgets,i=Object(B.a)((function(){return{accept:P,drop:function(e){!function(e){n((function(n){return[].concat(Object(y.a)(n),[R(e,t)])}))}(e)}}})),c=Object(s.a)(i,2);Object(m.a)(c[0]);var r=c[1];return Object(O.jsx)("div",{style:{position:"absolute",top:100*t[1]/5+"%",left:100*t[0]/3+"%",height:"20%",width:100/3+"%",padding:"10px"},ref:r,children:Object(O.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.2)",height:"100%",width:"100%"}})})}function H(e){var t=e.widget,n=e.index,i=e.removeCallback,c=t.size;return Object(O.jsx)("div",{style:{position:"absolute",width:100*c.width/3+"%",height:100*c.height/5+"%",left:100*t.x/3+"%",top:100*t.y/5+"%",padding:"10px"},children:Object(O.jsxs)("div",{style:{backgroundColor:"rgba(30, 18, 26)",width:"100%",height:"100%",padding:"10px"},children:[Object(O.jsx)("p",{style:{color:"white",fontSize:"12px"},children:t.title}),Object(O.jsx)("a",{size:"sm",style:{position:"absolute",right:"20px",top:"20px",height:"25px",width:"25px",borderRadius:"5px",color:"white",border:"1px solid white",paddingTop:"0px",textAlign:"center",cursor:"pointer"},variant:"outline-light",onClick:function(){i(n)},children:"X"}),Object(O.jsx)("img",{src:t.iconURL,style:{position:"absolute",maxWidth:"50%",maxHeight:"50%",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",filter:"brightness(0) invert(1)"}})]})})}function _(e){var t=e.widgets,n=e.config,i=e.triggerGetConfig;return Object(O.jsxs)(T.a,{children:[Object(O.jsx)(I.a,{title:"Widgets",eventKey:"widgets",children:Object(O.jsx)(q,{widgets:t})}),Object(O.jsx)(I.a,{title:"Config",eventKey:"config",children:Object(O.jsx)(X,{config:n,triggerGetConfig:i})})]})}function q(e){var t=e.widgets;return Object(O.jsx)(N.a,{style:{paddingTop:"1rem"},children:Object.values(t).map((function(e,t){return Object(O.jsx)(M,{widgetInfo:e},t)}))})}function M(e){var t=e.widgetInfo,n=Object(F.a)((function(){return{type:P,item:t}})),i=Object(s.a)(n,2),c=(i[0],i[1]);return Object(O.jsxs)(D.a,{ref:c,children:[Object(O.jsx)(D.a.Img,{variant:"top",src:t.iconURL,style:{pointerEvents:"none"}}),Object(O.jsxs)(D.a.Body,{children:[Object(O.jsx)(D.a.Title,{children:null===t||void 0===t?void 0:t.title}),null!=(null===t||void 0===t?void 0:t.description)?Object(O.jsx)(D.a.Text,{children:t.description}):Object(O.jsx)(O.Fragment,{})]})]})}function X(e){var t=e.config,n=e.triggerGetConfig,c=null!=t.bgColor?t.bgColor:"light",r=null!=t.refreshFrequency?t.refreshFrequency:20,a=Object(i.useState)(c),o=Object(s.a)(a,2),d=o[0],j=o[1],b=Object(i.useState)(r),h=Object(s.a)(b,2),u=h[0],g=h[1];return Object(O.jsxs)(S.a,{className:"mb-3",style:{paddingTop:"1rem"},onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Device theme:"}),Object(O.jsx)(l.a,{variant:"light"==d?"secondary":"outline-secondary",style:{margin:"0.5rem"},onClick:function(){return j("light")},children:"Light"}),Object(O.jsx)(l.a,{variant:"dark"==d?"secondary":"outline-secondary",style:{margin:"0.5rem"},onClick:function(){return j("dark")},children:"Dark"})]}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Screen refresh rate (in seconds):"}),Object(O.jsx)(S.a.Control,{type:"number",placeholder:r,value:u,onChange:function(e){return g(e.target.value)}})]}),c!=d||u!=r?Object(O.jsx)(l.a,{variant:"secondary",type:"submit",onClick:function(e){e.preventDefault(),fetch(z+"/set-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:"test-new-data",secret:"password",config:{refreshFrequency:u,bgColor:d}})}).then((function(e){return e.json()})).then((function(e){!0!==e.success?(console.warn("Save did not succeed, there must be a problem somewhere"),console.log("you should look into this")):n((function(e){return!e}))})).catch((function(e){console.warn(e)}))},children:"Save changes"}):Object(O.jsx)(O.Fragment,{})]})}console.log("has loaded the api url");var K=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)([]),a=Object(s.a)(r,2),o=a[0],h=a[1],u=Object(i.useState)({}),g=Object(s.a)(u,2),p=g[0],x=g[1],f=Object(i.useState)(!1),m=Object(s.a)(f,2),y=m[0],T=m[1],I=Object(i.useState)(!1),N=Object(s.a)(I,2),D=N[0],B=N[1],F=Object(i.useState)(!1),P=Object(s.a)(F,2),R=P[0],E=P[1],H=Object(i.useState)(!1),q=Object(s.a)(H,2),M=q[0],X=q[1],K=Object(i.useState)(""),U=Object(s.a)(K,2),A=U[0],Y=U[1],Q=Object(i.useState)(""),V=Object(s.a)(Q,2),Z=V[0],$=V[1];return Object(i.useEffect)((function(){R&&fetch(z+"/get-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:A,secret:Z})}).then((function(e){return e.json()})).then((function(e){null!=e.config&&x(e.config),null!=e.grid&&c(e.grid.map((function(e){var t=o.filter((function(t){return t.id==e.id}));return t.length>0?Object(w.a)(Object(w.a)({},e),Object(L.cloneDeep)(t[0])):null})).filter((function(e){return null!=e})))})).catch((function(e){console.warn(e)}))}),[o,y,R]),Object(i.useEffect)((function(){fetch(z+"/get-widgets").then((function(e){return e.json()})).then((function(e){null!=e.widgets&&function(){var t,n=[],i=Object(v.a)(e.widgets);try{var c=function(){var e=t.value;Object.keys(e).forEach((function(t){var i=[],c=Object(L.cloneDeep)(e[t]);c.id=t;for(var r=0,a=["sm","md","lg"];r<a.length;r++){var s=a[r];if(null!=c[s]){var o=Object(L.cloneDeep)(c);o.size=c[s],o.title=c.title+" - "+s,o.id=t+"-"+s,i.push(o)}}i.length>0?n.push.apply(n,i):n.push(c)}))};for(i.s();!(t=i.n()).done;)c()}catch(r){i.e(r)}finally{i.f()}h(n)}()})).catch((function(e){return console.warn(e)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[D?Object(O.jsx)("div",{className:"savingScreen",children:Object(O.jsx)("div",{className:"loadingBox"})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(C.a,{show:!R,backdrop:"static",centered:!0,keyboard:!1,children:[Object(O.jsx)(C.a.Header,{children:Object(O.jsx)(C.a.Title,{children:"Sign In"})}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(S.a,{onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Device name"}),Object(O.jsx)(S.a.Control,{type:"text",value:A,onChange:function(e){return Y(e.target.value)}})]}),Object(O.jsxs)(S.a.Group,{children:[Object(O.jsx)(S.a.Label,{children:"Secret"}),Object(O.jsx)(S.a.Control,{type:"password",value:Z,onChange:function(e){return $(e.target.value)}})]})]})}),Object(O.jsxs)(C.a.Footer,{children:[M?Object(O.jsx)(k.a,{variant:"danger",children:"Login failed"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(l.a,{variant:"primary",size:"lg",onClick:function(){fetch(z+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:A,secret:Z})}).then((function(e){return e.json()})).then((function(e){!0===e.success?E(!0):(X(!0),Y(""),$(""))})).catch((function(e){X(!0),console.warn(e)}))},children:"Sign in"})]})]}),Object(O.jsx)(G.a,{backend:W.a,children:Object(O.jsxs)(d.a,{style:{marginTop:"60px",maxWidth:"1250px"},children:[Object(O.jsxs)(j.a,{style:{backgroundColor:"rgba(100, 100, 100, 0.1)",padding:"40px 0px",marginBottom:"50px"},children:[Object(O.jsx)(b.a,{sm:"12",lg:"5",style:{height:"1000px",backgroundColor:"rgba(212, 204, 188)",marginLeft:100/24+"%",marginRight:100/12+"%"},children:Object(O.jsx)("div",{style:{position:"absolute",top:"15px",left:"15px",width:"calc(100% - 30px)",height:"calc(100% - 30px"},children:Object(O.jsx)(J,{gridWidgets:n,changeGridWidgets:c})})}),Object(O.jsx)(b.a,{sm:"12",lg:"5",children:Object(O.jsx)(_,{widgets:o,config:p,triggerGetConfig:T})})]}),Object(O.jsx)(j.a,{style:{marginBottom:"100px"},children:Object(O.jsx)(l.a,{onClick:function(){B(!0);var e={user_id:A,secret:Z,grid:n};fetch(z+"/set-grid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){B(!1),!0===e.success?T((function(e){return!e})):console.warn("Couldn't save config")})).catch((function(e){console.warn(e)}))},variant:"primary",style:{display:"block",margin:"0px auto",width:"250px"},children:"Save Grid"})})]})})]})},U=n.p+"static/media/logo.d09f2a62.svg";var A=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)(o.a,{className:"fadeIn",variant:"light",style:{position:"relative",backgroundColor:n?"transparent":"rgba(0, 0, 0, 0.1)",zIndex:2,padding:"30px",height:n?"140px":"80px",transition:"all 0.2s"},children:[Object(O.jsx)(o.a.Brand,{href:"#",children:Object(O.jsx)("img",{src:U,style:{height:n?"100px":"60px",transition:"all 0.2s"}})}),n?Object(O.jsx)(o.a.Collapse,{className:"justify-content-end",children:Object(O.jsx)(l.a,{style:{backgroundColor:"rgb(255, 66, 49)",border:"none"},className:"justify-content-end",onClick:function(){return c(!n)},variant:"secondary",children:"Go to dashboard"})}):Object(O.jsx)("h1",{class:"fadeIn",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",fontWeight:"600",color:"rgb(20, 20, 20)"},children:"Dashboard"})]}),n?Object(O.jsx)(f,{}):Object(O.jsx)(K,{})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};n(152);a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root")),Y()}},[[153,1,2]]]);
//# sourceMappingURL=main.d55e9fa8.chunk.js.map